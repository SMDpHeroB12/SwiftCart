<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SwiftCart - Products</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>

  <body class="min-h-screen bg-base-100">
    <!-- NAVBAR -->
    <header class="navbar bg-base-100 shadow sticky top-0 z-50">
      <div class="navbar-start">
        <a class="btn btn-ghost text-xl" href="index.html">SwiftCart</a>
      </div>

      <nav class="navbar-center hidden lg:flex">
        <ul class="menu menu-horizontal px-1">
          <li><a href="index.html">Home</a></li>
          <li><a class="font-semibold" href="products.html">Products</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>

      <div class="navbar-end">
        <!-- cart count + drawer -->
        <button
          id="openCartBtn"
          class="btn btn-ghost"
          type="button"
          aria-label="Cart button"
        >
          ðŸ›’ <span id="cartCount" class="badge badge-sm badge-primary">0</span>
        </button>
      </div>
    </header>

    <!-- PAGE HEADER -->
    <main class="max-w-6xl mx-auto px-4 py-10">
      <div
        class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6"
      >
        <h1 class="text-3xl font-bold">All Products</h1>

        <div class="flex gap-2">
          <button class="btn btn-outline btn-sm" disabled>Sort</button>
          <button class="btn btn-outline btn-sm" disabled>Search</button>
        </div>
      </div>

      <!-- CATEGORY BAR -->
      <section class="mb-6">
        <h2 class="font-semibold mb-2">Categories</h2>
        <div id="categoriesBar" class="flex flex-wrap gap-2">
          <button class="btn btn-sm btn-primary">All</button>
        </div>
      </section>

      <!-- LOADING SPINNER -->
      <div id="productSpinner" class="flex justify-center py-10 hidden">
        <span class="loading loading-spinner loading-lg"></span>
      </div>

      <!-- ERROR BOX -->
      <div id="productError" class="alert alert-error hidden">
        <span>Failed to load products.</span>
      </div>

      <!-- PRODUCT GRID -->
      <section>
        <div
          id="productGrid"
          class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
        ></div>
      </section>
    </main>

    <!-- DETAILS MODAL (structure only) -->
    <dialog id="detailsModal" class="modal">
      <div class="modal-box max-w-3xl">
        <form method="dialog">
          <button
            class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
          >
            âœ•
          </button>
        </form>

        <div id="modalContent">
          <h3 class="text-xl font-bold mb-2">Product Details</h3>
          <p class="opacity-70">Details will load in Step-6.</p>
        </div>

        <div class="modal-action">
          <form method="dialog">
            <button class="btn">Close</button>
          </form>
        </div>
      </div>
    </dialog>

    <!-- CART DRAWER -->
    <div
      id="cartDrawer"
      class="fixed top-0 right-0 h-full w-full sm:w-[420px] bg-base-100 shadow-2xl translate-x-full transition-transform duration-300 z-[60]"
    >
      <div class="p-4 flex items-center justify-between border-b">
        <h3 class="text-xl font-bold">Your Cart</h3>
        <button id="closeCartBtn" class="btn btn-sm btn-ghost">âœ•</button>
      </div>

      <div
        id="cartItems"
        class="p-4 space-y-3 overflow-y-auto h-[calc(100%-180px)]"
      ></div>

      <div class="p-4 border-t">
        <div class="flex items-center justify-between font-semibold">
          <span>Total</span>
          <span id="cartTotal">$0.00</span>
        </div>
        <button class="btn btn-primary w-full mt-3">Checkout</button>
      </div>
    </div>

    <!-- overlay -->
    <div
      id="drawerOverlay"
      class="fixed inset-0 bg-black/40 hidden z-[55]"
    ></div>

    <footer class="footer footer-center p-6 bg-base-300 text-base-content">
      <aside>
        <p>Â© <span id="year"></span> SwiftCart. All rights reserved.</p>
        <div class="flex gap-4 mt-2">
          <a class="link" href="products.html">Products</a>
          <a class="link" href="#about">About</a>
          <a class="link" href="#contact">Contact</a>
        </div>
      </aside>
    </footer>

    <script src="./js/app.js"></script>
  </body>
</html>
